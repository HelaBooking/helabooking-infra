# Setting Up Harbor Repository - For the Project

This document provides a step-by-step guide on how to set up a Harbor repository for container image storage and management in the Helabooking infrastructure project.

## Important Points

- Harbor is deployed into the `management` namespace using Helm charts.
- Harbor will be used to store Docker images built from Jenkins pipelines.

## Steps to Set Up Harbor Repository

1. **Access Harbor UI**:
   - Open your web browser and navigate to the Harbor UI at `https://harbor.management.ezbooking.lk`.
   - Log in using the admin credentials provided during the Harbor installation.
2. **Create a New Project**:
   - Once logged in, click on the "Projects" tab in the top navigation bar.
   - Click on the "+ New Project" button.
   - Enter a name for the project (e.g., `helabooking`).
   - Optionally, provide a description for the project.
   - Set the project to "Public" or "Private" based on your requirements.
   - Click "OK" to create the project.
3. **Configure Project Settings**:
   - After creating the project, you can configure additional settings such as:
     - **Repository Retention Policies**: Set up rules to automatically delete old or unused images.
     - **Vulnerability Scanning**: Enable vulnerability scanning for images pushed to the repository.
4. **Create Service Account**:
   - To allow Jenkins to push images to Harbor, create a service account:
     - Go to the "Users" tab in the Harbor UI.
     - Click on "+ New User".
     - Fill in the required details (Username, Password, Email).
     - Open the project settings and assign the user to the `helabooking` project with appropriate permissions (e.g., Developer or Maintainer).
5. **Verify Repository Access**:
   - Test the access to the Harbor repository using Docker CLI:
     - Log in to Harbor using the service account credentials:
       ```bash
       docker login harbor.management.ezbooking.lk -u <username> -p <password>
       ```
