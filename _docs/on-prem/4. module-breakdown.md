# Module Breakdown

This document provides a detailed breakdown of the various modules in the project, explaining their purpose and functionality.

## Templates

Define reusable templates for common Kubernetes resources (e.g., deployments, services, helm charts, etc).

    - cluster-templates
        - deployment
            - deployment.yaml
            - variables.tf
        - service
            - service.yaml
            - variables.tf
        - helm-chart
            - helm-chart.yaml
            - variables.tf
        - pv-claim
            - pv-claim.yaml
            - variables.tf
        - dns-record
            - main.tf
            - secrets.tf     (Get this from the shared Google Drive folder)
            - dns-record.tf
            - variables.tf
    * Important: To remove a DNS Module in an env, first run `terraform destroy -target=module.<module_name>`, then remove from the code. Otherwise errors will occur

## Environments

Define environment-specific configurations and resources (e.g., namespaces, resources).

    - management (shared services within the cluster)
        - main.tf: Entry point for the environment module with independent state management.
        - deployments.tf: Define shared kubernetes deployments for the cluster.
        - services.tf: Define shared kubernetes services for the cluster.
        - networks.tf: Define shared kubernetes namespaces and network policies.
        - dns-records.tf: Define shared DNS records for the environment.
        - variables.tf: Define input variables for the environment.
        - pv-claims.tf: Define persistent volume claims for the environment.
        - secrets.tf: Define secrets required for the environment.

    - env-dev
        - main.tf: Entry point for the environment module with independent state management.
        - deployments.tf: Define project related deployments for the cluster.
        - services.tf: Define project related services for the cluster.
        - networks.tf: Define project related namespaces and network policies.
        - dns-records.tf: Define project related DNS records for the environment.
        - variables.tf: Define input variables for the environment.
        - pv-claims.tf: Define persistent volume claims for the environment.
